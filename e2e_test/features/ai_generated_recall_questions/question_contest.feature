@usingMockedOpenAiService
Feature: User Contests Question generation by AI
  As a learner, I want to contest the question generated by AI, so that I can get a better question for my note.

  Background:
    Given I am logged in as an existing user
    And I've got the following question for a note with topic "Scuba Diving":
      | Question Stem                                       | Correct Choice | Incorrect Choice 1 | Incorrect Choice 2 |
      | What is the most common scuba diving certification? | Rescue Diver   | Divemaster         | Open Water Diver   |
    Given OpenAI by default returns this question from now on:
      | Question Stem         | Correct Choice | Incorrect Choice 1 | Incorrect Choice 2 |
      | What is scuba diving? | Rescue Diver   | Divemaster         | Open Water Diver   |

  Scenario: I should be able to regenerate the question when the question and choices do not make sense relating to the note
    Then I complain the question doesn't make sense
    And I should see the question "What is the most common scuba diving certification?" is disabled
    And I should be asked "What is scuba diving?"
